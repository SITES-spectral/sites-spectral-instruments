name = "sites-spectral-instruments"
main = "src/worker.js"
compatibility_date = "2024-01-15"
compatibility_flags = ["nodejs_compat"]
workers_dev = true
preview_urls = true
account_id = "15e8e176e26c65981300ddc97093f58d"

# GitHub integration
# Enable auto-deployment from GitHub when commits are pushed to main branch

# Project metadata
# Version: 11.0.0-alpha.33
# Release: 2025-12-09
# Database Schema: v12 (36 migrations) - ROI Legacy System + Hexagonal Architecture

# Static Assets Configuration
# v13.14.0: Vanilla JS frontend with design system
[assets]
directory = "public"
binding = "ASSETS"

[[d1_databases]]
binding = "DB"
database_name = "spectral_stations_db"
database_id = "29a77ad6-c5ff-4088-af08-478df12159b4"

# R2 Object Storage for Sensor Documentation
[[r2_buckets]]
bucket_name = "sites-spectral-docs"
binding = "DOCS_BUCKET"

[vars]
ENVIRONMENT = "production"
APP_NAME = "SITES Spectral Stations & Instruments"
APP_VERSION = "14.2.0"
USE_CLOUDFLARE_SECRETS = "true"

# Custom domain routing
# Accessible at: sitesspectral.work
# Workers.dev subdomain: sites-spectral-instruments.jose-beltran.workers.dev

[[routes]]
pattern = "sitesspectral.work/*"
zone_id = "98a6b8637a4cc674eea24819d8f72b07"

[[routes]]
pattern = "sitesspectral.work"
zone_id = "98a6b8637a4cc674eea24819d8f72b07"