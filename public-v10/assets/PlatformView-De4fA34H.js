import{c as u,e as l,o as n,F as N,i as E,f as e,t as i,l as g,b as Y,k as f,G as Q,n as y,h as C,g as _,w as j,r as S,m as ie,p as ue,s as F,x as me,a as ce}from"./vendor-DIThaKhE.js";import{e as de,f as ve,u as pe,b as fe}from"./index-rkGcHrBN.js";import{a as Z,b as be,f as ge,g as he,_ as X}from"./useTypeRegistry-Cq5ebRSc.js";import{_ as ye,a as xe,b as we,c as ke}from"./SatellitePlatformDetails-BjgdXvpg.js";import{g as Ce,a as Me}from"./BaseModal-CYDQdZr3.js";import{_ as _e}from"./InstrumentFormModal-Drrb1Oa2.js";const Ve={key:0,class:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm"},Se={class:"text-xs text-base-content/50 block truncate"},$e=["title"],Ie={key:1,class:"text-xs text-base-content/50 italic"},ze={__name:"InstrumentTypeDetails",props:{instrument:{type:Object,required:!0},showAllFields:{type:Boolean,default:!1}},setup(a){const v=a,x=u(()=>Z(v.instrument.instrument_type)),p=u(()=>{if(v.instrument.specifications&&typeof v.instrument.specifications=="object")return v.instrument.specifications;if(typeof v.instrument.specifications=="string")try{return JSON.parse(v.instrument.specifications)}catch{return{}}return v.instrument}),o=u(()=>{var k;if(!((k=x.value)!=null&&k.fields))return[];const s=x.value.fields,I=be(v.instrument.instrument_type);return(v.showAllFields?Object.keys(s):I).map(h=>{const c=s[h];if(!c)return null;const d=p.value[h]??v.instrument[h];return{key:h,label:c.label,value:d,config:c,hasValue:d!=null&&d!==""}}).filter(h=>h!==null)}),$=u(()=>o.value.filter(s=>s.hasValue)),b=u(()=>$.value.length>0);return(s,I)=>b.value?(n(),l("div",Ve,[(n(!0),l(N,null,E($.value,w=>(n(),l("div",{key:w.key,class:"min-w-0"},[e("span",Se,i(w.label),1),e("span",{class:"font-medium block truncate",title:String(w.value)},i(g(ge)(w.value,w.config)),9,$e)]))),128))])):(n(),l("div",Ie," No specifications recorded "))}},Pe={class:"flex items-start justify-between gap-2"},De={class:"flex items-center gap-2 min-w-0 flex-1"},Ae=["title"],He=["d"],je={class:"min-w-0 flex-1"},Be={class:"text-xs text-base-content/50 font-mono truncate block"},Te={class:"flex items-center flex-wrap gap-2 mt-2 text-xs"},Le={key:0,class:"opacity-70 ml-1 hidden sm:inline"},Re={class:"truncate"},Fe={key:0,class:"text-accent whitespace-nowrap"},Ne={key:0,class:"mt-3 pt-2 border-t border-base-200"},Ee={key:1,class:"mt-2"},Oe={key:2,class:"flex justify-end gap-1 mt-2 pt-2 border-t border-base-200"},Ue={key:3,class:"flex justify-end mt-2 pt-2 border-t border-base-200"},qe={__name:"InstrumentCard",props:{instrument:{type:Object,required:!0},canEdit:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},showPlatform:{type:Boolean,default:!1},showAllSpecs:{type:Boolean,default:!1}},emits:["edit","delete","view"],setup(a,{emit:v}){const x=a,p=v,o=u(()=>Z(x.instrument.instrument_type)),$=u(()=>Ce(x.instrument.status)),b=u(()=>Me(x.instrument.measurement_status)),s=u(()=>{var c;return x.instrument.roi_count||((c=x.instrument.rois)==null?void 0:c.length)||0});u(()=>{var c;return((c=o.value)==null?void 0:c.color)||"#6b7280"});const I=u(()=>o.value&&{phenocam:"bg-blue-500/10",multispectral:"bg-purple-500/10",par_sensor:"bg-amber-500/10",ndvi_sensor:"bg-green-500/10",pri_sensor:"bg-cyan-500/10",hyperspectral:"bg-pink-500/10",thermal:"bg-red-500/10",lidar:"bg-teal-500/10",radar:"bg-indigo-500/10"}[o.value.key]||"bg-gray-500/10"),w=u(()=>o.value&&{phenocam:"text-blue-500",multispectral:"text-purple-500",par_sensor:"text-amber-500",ndvi_sensor:"text-green-500",pri_sensor:"text-cyan-500",hyperspectral:"text-pink-500",thermal:"text-red-500",lidar:"text-teal-500",radar:"text-indigo-500"}[o.value.key]||"text-gray-500"),k={camera:["M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z","M15 13a3 3 0 11-6 0 3 3 0 016 0z"],"layer-group":["M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],sun:["M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"],leaf:["M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],microscope:["M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],rainbow:["M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"],"temperature-high":["M9 19c-4.3 1.4-6-2.7-6-7 0-4.3 1.7-8.4 6-7m0 14V5m0 14a5 5 0 005-5 5 5 0 00-5-5"],"wave-square":["M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"],"satellite-dish":["M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.14 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"],cube:["M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"]},h=u(()=>{var d;const c=((d=o.value)==null?void 0:d.icon)||"cube";return k[c]||k.cube});return(c,d)=>{var B,H,T,V;const A=Y("router-link");return n(),l("div",{class:y(["card bg-base-100 shadow-sm border border-base-200 hover:border-primary/30 transition-colors",{"card-compact":a.compact}])},[e("div",{class:y(["card-body",a.compact?"p-2":"p-3"])},[e("div",Pe,[e("div",De,[e("div",{class:y(["flex-shrink-0 rounded flex items-center justify-center",I.value]),style:Q({width:a.compact?"28px":"32px",height:a.compact?"28px":"32px"}),title:((B=o.value)==null?void 0:B.name)||a.instrument.instrument_type},[(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:y([w.value]),style:Q({width:a.compact?"14px":"16px",height:a.compact?"14px":"16px"}),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(n(!0),l(N,null,E(h.value,(M,z)=>(n(),l("path",{key:z,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:M},null,8,He))),128))],6))],14,Ae),e("div",je,[e("h5",{class:y(["font-medium truncate",a.compact?"text-xs":"text-sm"])},i(a.instrument.display_name),3),e("code",Be,i(a.instrument.normalized_name),1)])]),e("span",{class:y(["badge",a.compact?"badge-xs":"badge-sm",$.value.badgeClass])},i(a.instrument.status),3)]),e("div",Te,[e("span",{class:y(["badge badge-xs sm:badge-sm whitespace-nowrap",((H=o.value)==null?void 0:H.badgeClass)||"badge-ghost"])},[C(i(((T=o.value)==null?void 0:T.name)||a.instrument.instrument_type)+" ",1),(V=o.value)!=null&&V.code?(n(),l("span",Le," ("+i(o.value.code)+") ",1)):f("",!0)],2),e("span",{class:y([b.value.textClass,"flex items-center gap-1 whitespace-nowrap"])},[e("span",{class:y(["w-1.5 h-1.5 rounded-full flex-shrink-0",b.value.dotClass])},null,2),e("span",Re,i(a.instrument.measurement_status||"Unknown"),1)],2),s.value>0?(n(),l("span",Fe,i(s.value)+" ROI"+i(s.value!==1?"s":""),1)):f("",!0)]),a.compact?f("",!0):(n(),l("div",Ne,[_(ze,{instrument:a.instrument,"show-all-fields":a.showAllSpecs},null,8,["instrument","show-all-fields"])])),a.showPlatform&&a.instrument.platform_name?(n(),l("div",Ee,[_(A,{to:`/platforms/${a.instrument.platform_id}`,class:"text-xs text-primary hover:underline"},{default:j(()=>[C(i(a.instrument.platform_name),1)]),_:1},8,["to"])])):f("",!0),a.canEdit?(n(),l("div",Oe,[_(A,{to:`/instruments/${a.instrument.id}`,class:"btn btn-ghost btn-xs"},{default:j(()=>[...d[2]||(d[2]=[C(" View ",-1)])]),_:1},8,["to"]),e("button",{onClick:d[0]||(d[0]=M=>p("edit",a.instrument)),class:"btn btn-ghost btn-xs text-primary"}," Edit "),e("button",{onClick:d[1]||(d[1]=M=>p("delete",a.instrument)),class:"btn btn-ghost btn-xs text-error"}," Delete ")])):a.compact?f("",!0):(n(),l("div",Ue,[_(A,{to:`/instruments/${a.instrument.id}`,class:"btn btn-ghost btn-xs text-primary"},{default:j(()=>[...d[3]||(d[3]=[C(" View Details ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))],2)],2)}}},Ge={key:0,class:"flex justify-center py-12"},Je={key:1,class:"alert alert-error"},We={key:2},Qe={class:"text-sm breadcrumbs mb-4"},Xe={class:"bg-base-100 rounded-lg shadow-lg p-6 mb-6"},Ye={class:"flex items-start justify-between"},Ze={class:"flex items-center gap-3"},Ke={class:"text-2xl font-bold"},et={class:"text-sm text-base-content/60 font-mono mt-1 block"},tt={key:0,class:"text-base-content/60 mt-2"},st={key:0,class:"flex gap-2"},nt={class:"mt-6 pt-4 border-t border-base-200"},at={class:"bg-base-100 rounded-lg shadow-lg p-6"},lt={class:"flex flex-col gap-4 mb-6"},ot={class:"flex items-center justify-between"},rt={class:"text-xl font-semibold"},it={class:"badge badge-lg ml-2"},ut={key:0,class:"flex flex-wrap gap-2"},mt=["onClick"],ct={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},dt=["d"],vt={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},pt={key:1,class:"text-center py-8"},ft={key:2,class:"flex justify-center py-8"},Ct={__name:"PlatformView",props:{id:{type:[Number,String],required:!0}},setup(a){const v=a,x=ce(),p=de(),o=ve(),$=pe(),b=fe(),s=u(()=>p.currentPlatform),I=u(()=>s.value?he(s.value.platform_type):null),w=u(()=>{var r;switch((r=s.value)==null?void 0:r.platform_type){case"uav":return we;case"satellite":return xe;case"fixed":default:return ye}}),k=u(()=>s.value?$.canEditStation(s.value.station_id):!1),h=u(()=>o.instrumentsByType),c=S("all"),d={all:{key:"all",name:"All",icon:"M4 6h16M4 12h16M4 18h16",bgClass:"bg-base-300",textClass:"text-base-content",borderClass:"border-base-content"},Phenocam:{key:"Phenocam",name:"Phenocams",icon:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9zM15 13a3 3 0 11-6 0 3 3 0 016 0z",bgClass:"bg-blue-500/10",textClass:"text-blue-500",borderClass:"border-blue-500"},"Multispectral Sensor":{key:"Multispectral Sensor",name:"Multispectral",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",bgClass:"bg-purple-500/10",textClass:"text-purple-500",borderClass:"border-purple-500"},"PAR Sensor":{key:"PAR Sensor",name:"PAR Sensors",icon:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z",bgClass:"bg-amber-500/10",textClass:"text-amber-500",borderClass:"border-amber-500"},"NDVI Sensor":{key:"NDVI Sensor",name:"NDVI Sensors",icon:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z",bgClass:"bg-green-500/10",textClass:"text-green-500",borderClass:"border-green-500"},"PRI Sensor":{key:"PRI Sensor",name:"PRI Sensors",icon:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z",bgClass:"bg-cyan-500/10",textClass:"text-cyan-500",borderClass:"border-cyan-500"},Hyperspectral:{key:"Hyperspectral",name:"Hyperspectral",icon:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01",bgClass:"bg-pink-500/10",textClass:"text-pink-500",borderClass:"border-pink-500"},Thermal:{key:"Thermal",name:"Thermal",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",bgClass:"bg-red-500/10",textClass:"text-red-500",borderClass:"border-red-500"},LiDAR:{key:"LiDAR",name:"LiDAR",icon:"M13 10V3L4 14h7v7l9-11h-7z",bgClass:"bg-teal-500/10",textClass:"text-teal-500",borderClass:"border-teal-500"},"Radar (SAR)":{key:"Radar (SAR)",name:"Radar/SAR",icon:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0",bgClass:"bg-indigo-500/10",textClass:"text-indigo-500",borderClass:"border-indigo-500"}},A=u(()=>{const r=[d.all];for(const[t,R]of Object.entries(h.value))R.length>0&&d[t]&&r.push(d[t]);return r});function B(r){var t;return r==="all"?o.instrumentCount:((t=h.value[r])==null?void 0:t.length)||0}const H=u(()=>c.value==="all"?Object.values(h.value).flat():h.value[c.value]||[]),T=u(()=>p.loading||o.loading),V=S(!1),M=S(!1),z=S(!1),L=S(!1),P=S(null),D=S(null);async function O(){const r=parseInt(v.id);await p.fetchPlatform(r)&&await o.fetchInstrumentsByPlatform(r)}ie(O),ue(()=>v.id,O);function K(){V.value=!0}function ee(){z.value=!0}async function te(r){await p.updatePlatform(s.value.id,r)?(b.success("Platform updated successfully"),V.value=!1):b.error(p.error||"Failed to update platform")}async function se(){const r=s.value.station_acronym;await p.deletePlatform(s.value.id)?(b.success("Platform deleted successfully"),z.value=!1,x.push({name:"station",params:{acronym:r}})):b.error(p.error||"Failed to delete platform")}function U(){P.value=null,M.value=!0}function ne(r){P.value=r,M.value=!0}function ae(r){D.value=r,L.value=!0}async function le(r){let t;P.value?(t=await o.updateInstrument(P.value.id,r),t&&b.success("Instrument updated successfully")):(t=await o.createInstrument(r),t&&b.success("Instrument created successfully")),t?(M.value=!1,P.value=null):b.error(o.error||"Failed to save instrument")}async function oe(){if(!D.value)return;await o.deleteInstrument(D.value.id)?(b.success("Instrument deleted successfully"),L.value=!1,D.value=null):b.error(o.error||"Failed to delete instrument")}const re=u(()=>{var t;return{fixed:"badge-info",uav:"badge-warning",satellite:"badge-accent"}[(t=s.value)==null?void 0:t.platform_type]||"badge-info"});return(r,t)=>{var q,G,J,W;const R=Y("router-link");return n(),l("div",null,[T.value&&!s.value?(n(),l("div",Ge,[...t[4]||(t[4]=[e("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):g(p).error?(n(),l("div",Je,[t[5]||(t[5]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,i(g(p).error),1)])):s.value?(n(),l("div",We,[e("div",Qe,[e("ul",null,[e("li",null,[_(R,{to:"/dashboard"},{default:j(()=>[...t[6]||(t[6]=[C("Dashboard",-1)])]),_:1})]),e("li",null,[_(R,{to:`/stations/${s.value.station_acronym}`},{default:j(()=>[C(i(s.value.station_acronym),1)]),_:1},8,["to"])]),e("li",null,i(s.value.normalized_name),1)])]),e("div",Xe,[e("div",Ye,[e("div",null,[e("div",Ze,[e("h1",Ke,i(s.value.display_name||s.value.normalized_name),1),e("span",{class:y(["badge badge-lg",re.value])},i(((q=I.value)==null?void 0:q.name)||s.value.platform_type),3),e("span",{class:y([s.value.status==="Active"?"badge-success":"badge-warning","badge"])},i(s.value.status),3)]),e("code",et,i(s.value.normalized_name),1),s.value.description?(n(),l("p",tt,i(s.value.description),1)):f("",!0)]),k.value?(n(),l("div",st,[e("button",{class:"btn btn-outline btn-sm",onClick:K},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),C(" Edit ",-1)])]),e("button",{class:"btn btn-outline btn-error btn-sm",onClick:ee},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),C(" Delete ",-1)])])])):f("",!0)]),e("div",nt,[(n(),F(me(w.value),{platform:s.value},null,8,["platform"]))])]),e("div",at,[e("div",lt,[e("div",ot,[e("h2",rt,[t[9]||(t[9]=C(" Instruments ",-1)),e("span",it,i(g(o).instrumentCount),1)]),k.value?(n(),l("button",{key:0,class:"btn btn-primary btn-sm",onClick:U},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),C(" Add Instrument ",-1)])])):f("",!0)]),g(o).instrumentCount>0?(n(),l("div",ut,[(n(!0),l(N,null,E(A.value,m=>(n(),l("button",{key:m.key,class:y(["btn btn-sm gap-2 transition-all",[c.value===m.key?`${m.bgClass} ${m.textClass} border-2 ${m.borderClass}`:"btn-ghost border border-base-300"]]),onClick:bt=>c.value=m.key},[(n(),l("svg",ct,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:m.icon},null,8,dt)])),e("span",null,i(m.name),1),e("span",{class:y(["badge badge-sm",c.value===m.key?"badge-neutral":"badge-ghost"])},i(B(m.key)),3)],10,mt))),128))])):f("",!0)]),H.value.length>0?(n(),l("div",vt,[(n(!0),l(N,null,E(H.value,m=>(n(),F(qe,{key:m.id,instrument:m,"can-edit":k.value,onEdit:ne,onDelete:ae},null,8,["instrument","can-edit"]))),128))])):g(o).loading?f("",!0):(n(),l("div",pt,[t[11]||(t[11]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-base-content/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})],-1)),t[12]||(t[12]=e("p",{class:"mt-4 text-base-content/60"},"No instruments found",-1)),k.value?(n(),l("button",{key:0,class:"btn btn-primary mt-4",onClick:U}," Add First Instrument ")):f("",!0)])),g(o).loading?(n(),l("div",ft,[...t[13]||(t[13]=[e("span",{class:"loading loading-spinner loading-md"},null,-1)])])):f("",!0)])])):f("",!0),s.value?(n(),F(g(ke),{key:3,modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=m=>V.value=m),platform:s.value,"station-id":s.value.station_id,"station-acronym":s.value.station_acronym,onSubmit:te},null,8,["modelValue","platform","station-id","station-acronym"])):f("",!0),_(g(X),{modelValue:z.value,"onUpdate:modelValue":t[1]||(t[1]=m=>z.value=m),title:"Delete Platform",message:`Are you sure you want to delete '${(G=s.value)==null?void 0:G.normalized_name}'? This will also delete all ${g(o).instrumentCount} instrument(s). This action cannot be undone.`,"confirm-text":"Delete Platform",variant:"error",loading:g(p).loading,onConfirm:se},null,8,["modelValue","message","loading"]),s.value?(n(),F(g(_e),{key:4,modelValue:M.value,"onUpdate:modelValue":t[2]||(t[2]=m=>M.value=m),instrument:P.value,"platform-id":s.value.id,"platform-name":s.value.normalized_name,"platform-type":s.value.platform_type,onSubmit:le},null,8,["modelValue","instrument","platform-id","platform-name","platform-type"])):f("",!0),_(g(X),{modelValue:L.value,"onUpdate:modelValue":t[3]||(t[3]=m=>L.value=m),title:"Delete Instrument",message:`Are you sure you want to delete '${((J=D.value)==null?void 0:J.normalized_name)||((W=D.value)==null?void 0:W.display_name)}'? This action cannot be undone.`,"confirm-text":"Delete",variant:"error",loading:g(o).loading,onConfirm:oe},null,8,["modelValue","message","loading"])])}}};export{Ct as default};
