import{b as le,f as ae,u as oe,c as ne}from"./index-BStY3-ua.js";import{_ as ie,g as re}from"./InstrumentIcon.vue_vue_type_style_index_0_scoped_cbf9e092_lang-D-dukWxj.js";import{g as Q,_ as de}from"./useTypeRegistry-CiWZAadw.js";import{_ as ue,a as ce,b as me,c as pe}from"./SatellitePlatformDetails-B5aJazea.js";import{r as S,p as H,c as b,e as n,o as a,f as e,C as B,k as g,D as E,n as M,t as m,J as ve,F as I,h as q,i as L,q as fe,s as T,w as O,g as z,b as be,x as ge,m as ye,l as k}from"./vendor-2iZwFq-s.js";import{_ as xe}from"./ExportModal-BDIY4X7E.js";const he={class:"space-y-4"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_e={class:"form-control"},ke=["disabled"],Me={key:0,class:"label"},$e={class:"label-text-alt text-error"},Ce={key:1,class:"label"},Se={class:"form-control"},Ve={key:0,class:"label"},Pe={class:"label-text-alt text-error"},Be={class:"form-control"},je={class:"space-y-4"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ee={class:"form-control"},Le={key:0,class:"label"},De={class:"label-text-alt text-error"},Fe={class:"form-control"},Ue={key:0,class:"label"},Te={class:"label-text-alt text-error"},ze={class:"space-y-4"},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ie={class:"form-control"},qe={class:"form-control"},Oe=["value"],He={class:"flex justify-end gap-3 pt-4 border-t border-base-200"},Re=["disabled"],We=["disabled"],Ze={key:0,class:"loading loading-spinner loading-sm"},Ge={__name:"StationForm",props:{station:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(d,{emit:V}){const v=d,x=V,l=S({acronym:"",display_name:"",description:"",latitude:"",longitude:"",website_url:"",status:"Active"}),f=["Active","Inactive","Maintenance","Decommissioned"];H(()=>v.station,r=>{r?l.value={acronym:r.acronym||"",display_name:r.display_name||"",description:r.description||"",latitude:r.latitude??"",longitude:r.longitude??"",website_url:r.website_url||"",status:r.status||"Active"}:_()},{immediate:!0});const h=b(()=>{var r;return!!((r=v.station)!=null&&r.id)});b(()=>h.value?"Edit Station":"Create Station");const o=S({});function i(){o.value={},l.value.acronym?/^[A-Z]{2,10}$/.test(l.value.acronym)||(o.value.acronym="Acronym must be 2-10 uppercase letters"):o.value.acronym="Acronym is required",l.value.display_name||(o.value.display_name="Display name is required");const r=parseFloat(l.value.latitude);isNaN(r)?o.value.latitude="Latitude is required":(r<-90||r>90)&&(o.value.latitude="Latitude must be between -90 and 90");const t=parseFloat(l.value.longitude);return isNaN(t)?o.value.longitude="Longitude is required":(t<-180||t>180)&&(o.value.longitude="Longitude must be between -180 and 180"),Object.keys(o.value).length===0}function w(){i()&&x("submit",{...l.value,latitude:parseFloat(l.value.latitude),longitude:parseFloat(l.value.longitude)})}function y(){x("cancel")}function _(){l.value={acronym:"",display_name:"",description:"",latitude:"",longitude:"",website_url:"",status:"Active"},o.value={}}function $(r){l.value.acronym=r.target.value.toUpperCase()}return(r,t)=>(a(),n("form",{onSubmit:fe(w,["prevent"]),class:"space-y-6"},[e("div",he,[t[11]||(t[11]=e("h3",{class:"text-lg font-medium border-b border-base-200 pb-2"}," Basic Information ",-1)),e("div",we,[e("div",_e,[t[8]||(t[8]=e("label",{class:"label"},[e("span",{class:"label-text"},"Acronym *")],-1)),B(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=u=>l.value.acronym=u),onInput:$,class:M(["input input-bordered",{"input-error":o.value.acronym}]),placeholder:"SVB",maxlength:"10",disabled:h.value},null,42,ke),[[E,l.value.acronym]]),o.value.acronym?(a(),n("label",Me,[e("span",$e,m(o.value.acronym),1)])):h.value?(a(),n("label",Ce,[...t[7]||(t[7]=[e("span",{class:"label-text-alt text-base-content/50"},"Cannot change acronym",-1)])])):g("",!0)]),e("div",Se,[t[9]||(t[9]=e("label",{class:"label"},[e("span",{class:"label-text"},"Display Name *")],-1)),B(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=u=>l.value.display_name=u),class:M(["input input-bordered",{"input-error":o.value.display_name}]),placeholder:"Svartberget Research Station"},null,2),[[E,l.value.display_name]]),o.value.display_name?(a(),n("label",Ve,[e("span",Pe,m(o.value.display_name),1)])):g("",!0)])]),e("div",Be,[t[10]||(t[10]=e("label",{class:"label"},[e("span",{class:"label-text"},"Description")],-1)),B(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=u=>l.value.description=u),class:"textarea textarea-bordered h-24",placeholder:"Station description..."},null,512),[[E,l.value.description]])])]),e("div",je,[t[14]||(t[14]=e("h3",{class:"text-lg font-medium border-b border-base-200 pb-2"}," Location ",-1)),e("div",Ae,[e("div",Ee,[t[12]||(t[12]=e("label",{class:"label"},[e("span",{class:"label-text"},"Latitude *")],-1)),B(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=u=>l.value.latitude=u),class:M(["input input-bordered",{"input-error":o.value.latitude}]),step:"0.000001",min:"-90",max:"90",placeholder:"64.256111"},null,2),[[E,l.value.latitude]]),o.value.latitude?(a(),n("label",Le,[e("span",De,m(o.value.latitude),1)])):g("",!0)]),e("div",Fe,[t[13]||(t[13]=e("label",{class:"label"},[e("span",{class:"label-text"},"Longitude *")],-1)),B(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=u=>l.value.longitude=u),class:M(["input input-bordered",{"input-error":o.value.longitude}]),step:"0.000001",min:"-180",max:"180",placeholder:"19.774722"},null,2),[[E,l.value.longitude]]),o.value.longitude?(a(),n("label",Ue,[e("span",Te,m(o.value.longitude),1)])):g("",!0)])])]),e("div",ze,[t[17]||(t[17]=e("h3",{class:"text-lg font-medium border-b border-base-200 pb-2"}," Additional Information ",-1)),e("div",Ne,[e("div",Ie,[t[15]||(t[15]=e("label",{class:"label"},[e("span",{class:"label-text"},"Website URL")],-1)),B(e("input",{type:"url","onUpdate:modelValue":t[5]||(t[5]=u=>l.value.website_url=u),class:"input input-bordered",placeholder:"https://example.com"},null,512),[[E,l.value.website_url]])]),e("div",qe,[t[16]||(t[16]=e("label",{class:"label"},[e("span",{class:"label-text"},"Status")],-1)),B(e("select",{"onUpdate:modelValue":t[6]||(t[6]=u=>l.value.status=u),class:"select select-bordered"},[(a(),n(I,null,q(f,u=>e("option",{key:u,value:u},m(u),9,Oe)),64))],512),[[ve,l.value.status]])])])]),e("div",He,[e("button",{type:"button",class:"btn btn-ghost",onClick:y,disabled:d.loading}," Cancel ",8,Re),e("button",{type:"submit",class:"btn btn-primary",disabled:d.loading},[d.loading?(a(),n("span",Ze)):g("",!0),L(" "+m(h.value?"Save Changes":"Create Station"),1)],8,We)])],32))}},Je={__name:"StationFormModal",props:{modelValue:{type:Boolean,default:!1},station:{type:Object,default:null}},emits:["update:modelValue","submit"],setup(d,{emit:V}){const v=d,x=V,l=S(!1),f=b(()=>v.station?"Edit Station":"Create Station");async function h(i){l.value=!0;try{x("submit",i)}finally{l.value=!1}}function o(){x("update:modelValue",!1)}return H(()=>v.modelValue,i=>{i||(l.value=!1)}),(i,w)=>(a(),T(ie,{"model-value":d.modelValue,"onUpdate:modelValue":w[0]||(w[0]=y=>i.$emit("update:modelValue",y)),title:f.value,size:"lg"},{default:O(()=>[z(Ge,{station:d.station,loading:l.value,onSubmit:h,onCancel:o},null,8,["station","loading"])]),_:1},8,["model-value","title"]))}},Qe={class:"card bg-base-100 shadow border border-base-200 hover:border-primary/20 transition-colors"},Xe={class:"card-body p-4"},Ye={class:"flex items-start justify-between gap-2"},Ke={class:"flex items-start gap-3 min-w-0 flex-1"},et=["title"],tt=["d"],st={class:"min-w-0 flex-1"},lt={class:"font-semibold truncate"},at={class:"text-xs text-base-content/60 font-mono"},ot={class:"flex items-center gap-2 flex-shrink-0"},nt={key:0,class:"dropdown dropdown-end"},it={tabindex:"0",class:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-40 border border-base-200"},rt={class:"flex items-center justify-between mt-3 gap-2"},dt={class:"text-xs sm:text-sm whitespace-nowrap"},ut={class:"font-semibold text-secondary"},ct={class:"text-base-content/60 ml-1 hidden xs:inline"},mt={class:"mt-3 pt-3 border-t border-base-200"},pt={key:0,class:"text-sm text-base-content/60 mt-3 line-clamp-2"},vt={key:1,class:"mt-2"},ft={class:"card-actions justify-end mt-3 pt-2 border-t border-base-200"},bt={__name:"PlatformCard",props:{platform:{type:Object,required:!0},canEdit:{type:Boolean,default:!1},showStation:{type:Boolean,default:!1}},emits:["edit","delete"],setup(d,{emit:V}){const v=d,x=V,l=b(()=>Q(v.platform.platform_type)||Q("fixed")),f=b(()=>re(v.platform.status)),h=b(()=>{var r;return v.platform.instrument_count||((r=v.platform.instruments)==null?void 0:r.length)||0}),o=b(()=>{switch(v.platform.platform_type){case"uav":return me;case"satellite":return ce;case"fixed":default:return ue}}),i=b(()=>({fixed:"badge-info",uav:"badge-warning",satellite:"badge-accent"})[v.platform.platform_type]||"badge-info"),w=b(()=>({fixed:"bg-info/10",uav:"bg-warning/10",satellite:"bg-accent/10"})[v.platform.platform_type]||"bg-info/10"),y=b(()=>({fixed:"text-info",uav:"text-warning",satellite:"text-accent"})[v.platform.platform_type]||"text-info"),_={PL:["M12 2v20","M8 22h8","M8 4l4 8 4-8","M6 12h12","M9 12v4h6v-4"],BL:["M3 21h18","M5 21V7l7-4 7 4v14","M9 21v-6h6v6","M9 9h.01M15 9h.01","M12 3v2"],GL:["M3 17h18","M7 17v-4h10v4","M12 13v-3","M10 10h4","M9 7l3-3 3 3"]},$=b(()=>{var t,u;if(v.platform.platform_type==="fixed"){const C=((u=(t=v.platform.mount_type_code)==null?void 0:t.match(/^([A-Z]+)/))==null?void 0:u[1])||"PL";return _[C]||_.PL}return{uav:["M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0-6 0","M12 2v4","M12 18v4","M4.93 4.93l2.83 2.83","M16.24 16.24l2.83 2.83","M2 12h4","M18 12h4","M4.93 19.07l2.83-2.83","M16.24 7.76l2.83-2.83"],satellite:["M13 7L9 3 5 7l4 4","M17 11l4 4-4 4-4-4","M8 12l4 4 4-4-4-4-4 4z","M16 8l3-3","M5 16l3 3"]}[v.platform.platform_type]||_.PL});return b(()=>Array.isArray($.value)),(r,t)=>{const u=be("router-link");return a(),n("div",Qe,[e("div",Xe,[e("div",Ye,[e("div",Ke,[e("div",{class:M(["p-2.5 rounded-lg flex-shrink-0",w.value]),title:l.value.name},[(a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:M(["h-5 w-5",y.value]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(a(!0),n(I,null,q($.value,(C,P)=>(a(),n("path",{key:P,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:C},null,8,tt))),128))],2))],10,et),e("div",st,[e("h4",lt,m(d.platform.display_name),1),e("code",at,m(d.platform.normalized_name),1)])]),e("div",ot,[e("span",{class:M(["badge badge-xs sm:badge-sm whitespace-nowrap",f.value.badgeClass])},m(d.platform.status),3),d.canEdit?(a(),n("div",nt,[t[2]||(t[2]=e("label",{tabindex:"0",class:"btn btn-ghost btn-xs btn-circle"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])],-1)),e("ul",it,[e("li",null,[e("a",{onClick:t[0]||(t[0]=C=>x("edit",d.platform))},"Edit")]),e("li",null,[e("a",{class:"text-error",onClick:t[1]||(t[1]=C=>x("delete",d.platform))},"Delete")])])])):g("",!0)])]),e("div",rt,[e("span",{class:M(["badge badge-xs sm:badge-sm whitespace-nowrap",i.value])},m(l.value.name),3),e("span",dt,[e("span",ut,m(h.value),1),e("span",ct,"instrument"+m(h.value!==1?"s":""),1)])]),e("div",mt,[(a(),T(ge(o.value),{platform:d.platform},null,8,["platform"]))]),d.platform.description?(a(),n("p",pt,m(d.platform.description),1)):g("",!0),d.showStation&&d.platform.station_acronym?(a(),n("div",vt,[z(u,{to:`/stations/${d.platform.station_acronym}`,class:"text-xs text-primary hover:underline"},{default:O(()=>[L(m(d.platform.station_acronym),1)]),_:1},8,["to"])])):g("",!0),e("div",ft,[z(u,{to:`/platforms/${d.platform.id}`,class:"btn btn-ghost btn-xs text-primary"},{default:O(()=>[...t[3]||(t[3]=[L(" View Details ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])])])])}}},gt={key:0,class:"flex justify-center py-12"},yt={key:1,class:"alert alert-error"},xt={key:2},ht={class:"bg-base-100 rounded-lg shadow-lg p-6 mb-6"},wt={class:"flex items-start justify-between"},_t={class:"flex items-center gap-3"},kt={class:"text-2xl font-bold"},Mt={class:"badge badge-primary badge-lg"},$t={key:0,class:"text-base-content/60 mt-2"},Ct={class:"flex gap-2"},St={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 pt-4 border-t border-base-200"},Vt={class:"font-medium"},Pt={class:"font-medium"},Bt=["href"],jt={key:1,class:"text-base-content/40"},At={class:"bg-base-100 rounded-lg shadow-lg p-6"},Et={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6"},Lt={class:"flex flex-wrap gap-2"},Dt=["onClick"],Ft={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ut=["d"],Tt={class:"hidden sm:inline"},zt={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Nt={key:1,class:"text-center py-12"},It={key:2,class:"flex justify-center py-8"},Jt={__name:"StationView",props:{acronym:{type:String,required:!0}},setup(d){const V=S(!1);function v(c){o.success(`Exported ${c.type} as ${c.format.toUpperCase()}`)}const x=d,l=le(),f=ae(),h=oe(),o=ne(),i=b(()=>l.currentStation),w=b(()=>i.value?h.canEditStation(i.value.id):!1),y=b(()=>f.platformsByType),_=S("all"),$={all:{key:"all",name:"All Platforms",icon:"M4 6h16M4 12h16M4 18h16",bgClass:"bg-base-300",textClass:"text-base-content",borderClass:"border-base-content"},fixed:{key:"fixed",name:"Fixed Platforms",icon:"M12 2v20M8 22h8M8 6l4 16 4-16M10 12h4",bgClass:"bg-info/10",textClass:"text-info",borderClass:"border-info"},uav:{key:"uav",name:"UAV Platforms",icon:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8",bgClass:"bg-warning/10",textClass:"text-warning",borderClass:"border-warning"},satellite:{key:"satellite",name:"Satellite Platforms",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4",bgClass:"bg-accent/10",textClass:"text-accent",borderClass:"border-accent"},mobile:{key:"mobile",name:"Mobile Platforms",icon:"M8 17h.01M14 17h.01M5 17H3v-4a1 1 0 011-1h1V9a1 1 0 011-1h8a1 1 0 011 1v3h2a1 1 0 011 1v4h-2m-8 0a2 2 0 11-4 0m10 0a2 2 0 11-4 0",bgClass:"bg-neutral/10",textClass:"text-neutral",borderClass:"border-neutral"}},r=b(()=>{var s,D,F,U;const c=[$.all];return((s=y.value.fixed)==null?void 0:s.length)>0&&c.push($.fixed),((D=y.value.uav)==null?void 0:D.length)>0&&c.push($.uav),((F=y.value.satellite)==null?void 0:F.length)>0&&c.push($.satellite),((U=y.value.mobile)==null?void 0:U.length)>0&&c.push($.mobile),c});function t(c){var s;return c==="all"?f.platformCount:((s=y.value[c])==null?void 0:s.length)||0}const u=b(()=>_.value==="all"?[...y.value.fixed||[],...y.value.uav||[],...y.value.satellite||[],...y.value.mobile||[]]:y.value[_.value]||[]),C=S(!1),P=S(!1),N=S(!1),j=S(null),A=S(null);async function R(){const c=await l.fetchStation(x.acronym);c&&await f.fetchPlatformsByStation(c.id)}ye(R),H(()=>x.acronym,R);function X(){C.value=!0}async function Y(c){await l.updateStation(i.value.id,c)?(o.success("Station updated successfully"),C.value=!1):o.error(l.error||"Failed to update station")}function W(){j.value=null,P.value=!0}function K(c){j.value=c,P.value=!0}function ee(c){A.value=c,N.value=!0}async function te(c){let s;j.value?(s=await f.updatePlatform(j.value.id,c),s&&o.success("Platform updated successfully")):(s=await f.createPlatform(c),s&&o.success("Platform created successfully")),s?(P.value=!1,j.value=null):o.error(f.error||"Failed to save platform")}async function se(){if(!A.value)return;await f.deletePlatform(A.value.id)?(o.success("Platform deleted successfully"),N.value=!1,A.value=null):o.error(f.error||"Failed to delete platform")}return(c,s)=>{var D,F,U,Z,G,J;return a(),n("div",null,[k(l).loading?(a(),n("div",gt,[...s[5]||(s[5]=[e("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):k(l).error?(a(),n("div",yt,[s[6]||(s[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,m(k(l).error),1)])):i.value?(a(),n("div",xt,[e("div",ht,[e("div",wt,[e("div",null,[e("div",_t,[e("h1",kt,m(i.value.display_name),1),e("span",Mt,m(i.value.acronym),1)]),i.value.description?(a(),n("p",$t,m(i.value.description),1)):g("",!0)]),e("div",Ct,[e("button",{class:"btn btn-outline btn-sm",onClick:s[0]||(s[0]=p=>V.value=!0)},[...s[7]||(s[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),L(" Export ",-1)])]),w.value?(a(),n("button",{key:0,class:"btn btn-outline btn-sm",onClick:X},[...s[8]||(s[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),L(" Edit ",-1)])])):g("",!0)])]),e("div",St,[e("div",null,[s[9]||(s[9]=e("div",{class:"text-sm text-base-content/60"},"Location",-1)),e("div",Vt,m((D=i.value.latitude)==null?void 0:D.toFixed(4))+", "+m((F=i.value.longitude)==null?void 0:F.toFixed(4)),1)]),e("div",null,[s[10]||(s[10]=e("div",{class:"text-sm text-base-content/60"},"Platforms",-1)),e("div",Pt,m(k(f).platformCount),1)]),e("div",null,[s[11]||(s[11]=e("div",{class:"text-sm text-base-content/60"},"Status",-1)),e("div",null,[e("span",{class:M([i.value.status==="Active"?"badge-success":"badge-warning","badge"])},m(i.value.status),3)])]),e("div",null,[s[12]||(s[12]=e("div",{class:"text-sm text-base-content/60"},"Website",-1)),i.value.website_url?(a(),n("a",{key:0,href:i.value.website_url,target:"_blank",class:"link link-primary"}," Visit site ",8,Bt)):(a(),n("span",jt,"-"))])])]),e("div",At,[e("div",Et,[e("div",Lt,[(a(!0),n(I,null,q(r.value,p=>(a(),n("button",{key:p.key,class:M(["btn btn-sm gap-2 transition-all",[_.value===p.key?`${p.bgClass} ${p.textClass} border-2 ${p.borderClass}`:"btn-ghost border border-base-300"]]),onClick:qt=>_.value=p.key},[(a(),n("svg",Ft,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:p.icon},null,8,Ut)])),e("span",Tt,m(p.name),1),e("span",{class:M(["badge badge-sm",_.value===p.key?"badge-neutral":"badge-ghost"])},m(t(p.key)),3)],10,Dt))),128))]),w.value?(a(),n("button",{key:0,class:"btn btn-primary btn-sm",onClick:W},[...s[13]||(s[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),L(" Create Platform ",-1)])])):g("",!0)]),u.value.length>0?(a(),n("div",zt,[(a(!0),n(I,null,q(u.value,p=>(a(),T(bt,{key:p.id,platform:p,"can-edit":w.value,onEdit:K,onDelete:ee},null,8,["platform","can-edit"]))),128))])):k(f).loading?g("",!0):(a(),n("div",Nt,[s[14]||(s[14]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-base-content/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 2v20M8 22h8M8 6l4 16 4-16M10 12h4"})],-1)),s[15]||(s[15]=e("p",{class:"mt-4 text-base-content/60"},"No platforms found",-1)),w.value?(a(),n("button",{key:0,class:"btn btn-primary mt-4",onClick:W}," Create First Platform ")):g("",!0)])),k(f).loading?(a(),n("div",It,[...s[16]||(s[16]=[e("span",{class:"loading loading-spinner loading-md"},null,-1)])])):g("",!0)])])):g("",!0),i.value?(a(),T(k(Je),{key:3,modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=p=>C.value=p),station:i.value,onSubmit:Y},null,8,["modelValue","station"])):g("",!0),z(k(pe),{modelValue:P.value,"onUpdate:modelValue":s[2]||(s[2]=p=>P.value=p),platform:j.value,"station-id":(U=i.value)==null?void 0:U.id,"station-acronym":((Z=i.value)==null?void 0:Z.acronym)||"",onSubmit:te},null,8,["modelValue","platform","station-id","station-acronym"]),z(k(de),{modelValue:N.value,"onUpdate:modelValue":s[3]||(s[3]=p=>N.value=p),title:"Delete Platform",message:`Are you sure you want to delete '${((G=A.value)==null?void 0:G.normalized_name)||((J=A.value)==null?void 0:J.display_name)}'? This action cannot be undone.`,"confirm-text":"Delete",variant:"error",loading:k(f).loading,onConfirm:se},null,8,["modelValue","message","loading"]),i.value?(a(),T(k(xe),{key:4,modelValue:V.value,"onUpdate:modelValue":s[4]||(s[4]=p=>V.value=p),"default-type":"instruments",scope:{stationId:i.value.id,stationAcronym:i.value.acronym},onExported:v},null,8,["modelValue","scope"])):g("",!0)])}}};export{Jt as default};
