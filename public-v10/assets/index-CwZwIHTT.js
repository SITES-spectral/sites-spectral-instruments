const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginView-B6iSgyMs.js","assets/vendor-oiqY8oHn.js","assets/DashboardView-Cz2rA8UL.js","assets/BaseModal-C2sPkbo_.js","assets/ExportModal-Bj5Zl7bV.js","assets/DashboardView-9lEwX2Zo.css","assets/AdminDashboardView-DhU79ZNM.js","assets/AdminView-IvLYqeMo.js","assets/StationView-DMw62DCg.js","assets/platforms-B4nEbBu-.js","assets/SatellitePlatformDetails-CT6RBenR.js","assets/PlatformView-DQgg0WSn.js","assets/instruments-DXCV3k3W.js","assets/InstrumentView-CbJ_pi-p.js","assets/InstrumentView-DWNqcPZQ.css","assets/NotFoundView-BviwnR3Z.js"])))=>i.map(i=>d[i]);
import{d as G,r as S,c as v,u as H,a as Y,b as q,e as f,o as p,f as s,g as b,w as y,h as E,F as U,i as Z,t as k,j as D,k as $,l as w,n as M,m as Q,T as X,p as j,q as ee,s as te,v as ne,x as se,y as oe,z as re}from"./vendor-oiqY8oHn.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();const C="/api/v10";function ae(){return localStorage.getItem("auth_token")}function z(){const e=new Headers({"Content-Type":"application/json"}),n=ae();return n&&e.set("Authorization",`Bearer ${n}`),e}async function I(e){const n=await e.json();if(!e.ok)throw e.status===401?(localStorage.removeItem("auth_token"),window.location.href="/login",new Error("Session expired. Please login again.")):new Error(n.error||n.message||`HTTP error ${e.status}`);return n}const P={async get(e,n={}){const t=new URL(`${C}${e}`,window.location.origin);Object.entries(n).forEach(([i,a])=>{a!=null&&t.searchParams.set(i,a)});const r=await fetch(t.toString(),{method:"GET",headers:z()});return I(r)},async post(e,n={}){const t=await fetch(`${C}${e}`,{method:"POST",headers:z(),body:JSON.stringify(n)});return I(t)},async put(e,n={}){const t=await fetch(`${C}${e}`,{method:"PUT",headers:z(),body:JSON.stringify(n)});return I(t)},async delete(e,n={}){const t=new URL(`${C}${e}`,window.location.origin);Object.entries(n).forEach(([i,a])=>{a!=null&&t.searchParams.set(i,a)});const r=await fetch(t.toString(),{method:"DELETE",headers:z()});return I(r)}},ie=["admin","spectral-admin","sites-admin","sites-spectral-admin"],O=["admin","spectral-admin","sites-admin","sites-spectral-admin"],R=G("auth",()=>{const e=S(null),n=S(localStorage.getItem("auth_token")),t=S("/"),r=v(()=>e.value?!!(ie.includes(e.value.role)||O.includes(e.value.username)):!1),i=v(()=>{if(!e.value)return!1;if(e.value.role==="station-admin")return!0;const m=e.value.username||"";return m.endsWith("-admin")&&!O.includes(m)}),a=v(()=>!e.value||r.value||i.value?!1:e.value.role==="station"||!!e.value.station_id),u=v(()=>!!n.value&&!!e.value),c=v(()=>{var m;return r.value?"admin":i.value?"station-admin":a.value?"station":((m=e.value)==null?void 0:m.role)||"readonly"}),o=v(()=>{var m;return((m=e.value)==null?void 0:m.station_id)||null}),l=v(()=>{var x;if(!((x=e.value)!=null&&x.username))return null;const m=e.value.username;return m.endsWith("-admin")&&!O.includes(m)?m.replace(/-admin$/,""):a.value&&!m.includes("-")?m:null});function h(m){if(r.value)return!0;if(i.value){const x=l.value;return typeof m=="string"?m.toLowerCase()===(x==null?void 0:x.toLowerCase()):o.value===m}return!!(a.value&&o.value===m)}async function d(m,x){try{const V=await P.post("/auth/login",{username:m,password:x});return V.success?(n.value=V.token,e.value=V.user,localStorage.setItem("auth_token",V.token),!0):!1}catch(V){return console.error("Login error:",V),!1}}function g(){n.value=null,e.value=null,localStorage.removeItem("auth_token")}async function _(){if(!n.value)return!1;try{const m=await P.get("/auth/me");return m.success?(e.value=m.user,!0):(g(),!1)}catch{return g(),!1}}function T(m){t.value=m}function N(){const m=t.value;return t.value="/",m}return{user:e,token:n,redirectPath:t,isAuthenticated:u,isAdmin:r,isStationAdmin:i,isStationUser:a,userRole:c,userStation:o,userStationFromUsername:l,canEditStation:h,login:d,logout:g,initialize:_,setRedirectPath:T,getRedirectPath:N}}),le={class:"navbar bg-base-100 shadow-lg sticky top-0 z-50"},ue={class:"navbar-start"},ce={class:"navbar-center hidden lg:flex"},de={class:"breadcrumbs text-sm"},me={class:"navbar-end"},he={key:0,class:"dropdown dropdown-end mr-2"},pe={tabindex:"0",class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-base-100 rounded-box w-52"},fe={class:"dropdown dropdown-end"},ve={tabindex:"0",role:"button",class:"btn btn-ghost gap-2"},ge={class:"avatar placeholder"},we={class:"bg-neutral text-neutral-content rounded-full w-8"},_e={class:"text-xs"},be={class:"hidden sm:inline"},ye={tabindex:"0",class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-base-100 rounded-box w-52"},ke={key:0},xe={key:1},Se={__name:"TheNavbar",setup(e){const n=H(),t=Y(),r=R(),i=v(()=>{const o=[{name:"Home",path:"/"}];return n.params.acronym&&o.push({name:n.params.acronym,path:`/stations/${n.params.acronym}`}),o}),a=v(()=>{var o;return((o=r.user)==null?void 0:o.username)||"User"}),u=v(()=>{const o=r.userRole;return{admin:"badge-primary",station:"badge-secondary",readonly:"badge-ghost"}[o]||"badge-ghost"});async function c(){r.logout(),t.push("/login")}return(o,l)=>{const h=q("router-link");return p(),f("nav",le,[s("div",ue,[b(h,{to:"/",class:"btn btn-ghost normal-case text-xl"},{default:y(()=>[...l[0]||(l[0]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})],-1),E(" SITES Spectral ",-1)])]),_:1})]),s("div",ce,[s("div",de,[s("ul",null,[(p(!0),f(U,null,Z(i.value,d=>(p(),f("li",{key:d.path},[b(h,{to:d.path,class:"hover:text-primary"},{default:y(()=>[E(k(d.name),1)]),_:2},1032,["to"])]))),128))])])]),s("div",me,[l[8]||(l[8]=D('<label class="swap swap-rotate btn btn-ghost btn-circle mr-2"><input type="checkbox" class="theme-controller" value="dark"><svg class="swap-on fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"></path></svg><svg class="swap-off fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"></path></svg></label>',1)),w(r).isAdmin?(p(),f("div",he,[s("div",{tabindex:"0",role:"button",class:M(["btn btn-ghost btn-sm",{"btn-active":w(n).path.startsWith("/admin")}])},[...l[1]||(l[1]=[D('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg><span class="hidden md:inline">Admin</span><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>',3)])],2),s("ul",pe,[s("li",null,[b(h,{to:"/admin",class:M({active:w(n).path==="/admin"})},{default:y(()=>[...l[2]||(l[2]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),E(" Dashboard ",-1)])]),_:1},8,["class"])]),s("li",null,[b(h,{to:"/admin/settings",class:M({active:w(n).path==="/admin/settings"})},{default:y(()=>[...l[3]||(l[3]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),E(" Users & Settings ",-1)])]),_:1},8,["class"])])])])):$("",!0),s("div",fe,[s("div",ve,[s("div",ge,[s("div",we,[s("span",_e,k(a.value.charAt(0).toUpperCase()),1)])]),s("span",be,k(a.value),1),s("span",{class:M(["badge badge-sm",u.value])},k(w(r).userRole),3)]),s("ul",ye,[w(r).isAdmin?(p(),f("li",ke,[b(h,{to:"/admin"},{default:y(()=>[...l[4]||(l[4]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),E(" Admin Dashboard ",-1)])]),_:1})])):$("",!0),w(r).isAdmin?(p(),f("li",xe,[b(h,{to:"/admin/settings"},{default:y(()=>[...l[5]||(l[5]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),E(" Users & Settings ",-1)])]),_:1})])):$("",!0),l[6]||(l[6]=s("li",null,[s("a",{class:"justify-between"},[E(" Profile "),s("span",{class:"badge badge-sm badge-outline"},"Coming soon")])],-1)),l[7]||(l[7]=s("li",{class:"divider"},null,-1)),s("li",null,[s("button",{onClick:c,class:"text-error"}," Logout ")])])])])])}}},Ae=G("stations",()=>{const e=S([]),n=S(null),t=S(!1),r=S(null),i=v(()=>e.value.length),a=v(()=>e.value.filter(d=>d.status==="Active")),u=v(()=>d=>e.value.find(g=>g.acronym===d));async function c(){t.value=!0,r.value=null;try{const d=await P.get("/stations");d.success?e.value=d.data||[]:r.value=d.error||"Failed to fetch stations"}catch(d){r.value=d.message}finally{t.value=!1}}async function o(d){t.value=!0,r.value=null;try{const g=await P.get(`/stations/${d}`);return g.success?(n.value=g.data,g.data):(r.value=g.error||"Station not found",null)}catch(g){return r.value=g.message,null}finally{t.value=!1}}async function l(d,g){t.value=!0,r.value=null;try{const _=await P.put(`/stations/${d}`,g);if(_.success){n.value=_.data;const T=e.value.findIndex(N=>N.id===d);return T!==-1&&(e.value[T]=_.data),_.data}else return r.value=_.error||"Failed to update station",null}catch(_){return r.value=_.message,null}finally{t.value=!1}}function h(){n.value=null}return{stations:e,currentStation:n,loading:t,error:r,stationCount:i,activeStations:a,getStationByAcronym:u,fetchStations:c,fetchStation:o,updateStation:l,clearCurrentStation:h}}),Ee={class:"w-64 bg-base-100 min-h-screen border-r border-base-200 fixed left-0 top-16 overflow-y-auto"},Me={class:"p-4"},$e={class:"flex items-center justify-between mb-4"},Ve={class:"badge badge-primary badge-sm"},Le={key:0,class:"flex justify-center py-8"},Pe={key:1,class:"alert alert-error text-sm"},Te={key:2,class:"menu menu-sm bg-base-100 rounded-lg gap-1"},Ce={class:"flex-1 min-w-0"},ze={class:"font-medium"},Ie={class:"text-xs opacity-70 truncate"},Re={key:0,class:"badge badge-ghost badge-xs"},Be={key:3,class:"mt-6 pt-4 border-t border-base-200"},Ne={__name:"TheSidebar",setup(e){const n=H(),t=Ae(),r=R();Q(async()=>{t.stations.length===0&&await t.fetchStations()});const i=v(()=>n.params.acronym),a=v(()=>t.activeStations);function u(c){return i.value===c}return(c,o)=>{const l=q("router-link");return p(),f("aside",Ee,[s("div",Me,[s("div",$e,[o[0]||(o[0]=s("h2",{class:"text-lg font-semibold"},"Stations",-1)),s("span",Ve,k(a.value.length),1)]),w(t).loading?(p(),f("div",Le,[...o[1]||(o[1]=[s("span",{class:"loading loading-spinner loading-md"},null,-1)])])):w(t).error?(p(),f("div",Pe,[s("span",null,k(w(t).error),1)])):(p(),f("ul",Te,[(p(!0),f(U,null,Z(a.value,h=>(p(),f("li",{key:h.acronym},[b(l,{to:`/stations/${h.acronym}`,class:M([{active:u(h.acronym),"bg-primary text-primary-content":u(h.acronym)},"flex items-center gap-2 py-2"])},{default:y(()=>[o[2]||(o[2]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),s("div",Ce,[s("div",ze,k(h.acronym),1),s("div",Ie,k(h.display_name),1)]),h.platform_count?(p(),f("span",Re,k(h.platform_count),1)):$("",!0)]),_:2},1032,["to","class"])]))),128))])),w(r).isAdmin?(p(),f("div",Be,[...o[3]||(o[3]=[D('<h3 class="text-sm font-medium text-base-content/70 mb-2">Admin</h3><ul class="menu menu-sm"><li><a href="#" class="text-base-content/70"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg> Settings </a></li><li><a href="#" class="text-base-content/70"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> Users </a></li></ul>',2)])])):$("",!0)])])}}},L=S([]);let je=0;const F={success:"alert-success",error:"alert-error",warning:"alert-warning",info:"alert-info"};function Oe(){function e(c,o="info",l=5e3){const h=++je;return L.value.push({id:h,message:c,type:o,style:F[o]||F.info}),l>0&&setTimeout(()=>{a(h)},l),h}function n(c,o=5e3){return e(c,"success",o)}function t(c,o=8e3){return e(c,"error",o)}function r(c,o=6e3){return e(c,"warning",o)}function i(c,o=5e3){return e(c,"info",o)}function a(c){const o=L.value.findIndex(l=>l.id===c);o!==-1&&L.value.splice(o,1)}function u(){L.value=[]}return{notifications:L,notify:e,success:n,error:t,warning:r,info:i,remove:a,clearAll:u}}const J=(e,n)=>{const t=e.__vccOpts||e;for(const[r,i]of n)t[r]=i;return t},De={class:"toast toast-top toast-end z-50"},He={xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},qe=["d"],Ue=["onClick"],Ze={__name:"NotificationToast",setup(e){const{notifications:n,remove:t}=Oe();function r(i){const a={success:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",error:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",warning:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",info:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};return a[i]||a.info}return(i,a)=>(p(),f("div",De,[b(X,{name:"notification"},{default:y(()=>[(p(!0),f(U,null,Z(w(n),u=>(p(),f("div",{key:u.id,class:M(["alert",u.style,"shadow-lg"])},[(p(),f("svg",He,[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r(u.type)},null,8,qe)])),s("span",null,k(u.message),1),s("button",{class:"btn btn-ghost btn-sm btn-circle",onClick:c=>w(t)(u.id),"aria-label":"Dismiss notification"},[...a[0]||(a[0]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ue)],2))),128))]),_:1})]))}},Fe=J(Ze,[["__scopeId","data-v-a42a999f"]]),We={class:"min-h-screen bg-base-200"},Ge={class:"flex"},Je={__name:"App",setup(e){const n=H(),t=R(),r=v(()=>t.isAuthenticated&&n.name!=="login"),i=v(()=>n.name!=="login");return(a,u)=>{const c=q("router-view");return p(),f("div",We,[b(Fe),i.value?(p(),j(Se,{key:0})):$("",!0),s("div",Ge,[r.value?(p(),j(Ne,{key:0})):$("",!0),s("main",{class:M(["flex-1 p-4 lg:p-6",{"ml-64":r.value}])},[b(c,null,{default:y(({Component:o})=>[b(ee,{name:"fade",mode:"out-in"},{default:y(()=>[(p(),j(te(o)))]),_:2},1024)]),_:1})],2)])])}}},Ke=J(Je,[["__scopeId","data-v-f0a11e0e"]]),Ye="modulepreload",Qe=function(e){return"/"+e},W={},A=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(t.map(o=>{if(o=Qe(o),o in W)return;W[o]=!0;const l=o.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Ye,l||(d.as="script"),d.crossOrigin="",d.href=o,c&&d.setAttribute("nonce",c),document.head.appendChild(d),l)return new Promise((g,_)=>{d.addEventListener("load",g),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return i.then(u=>{for(const c of u||[])c.status==="rejected"&&a(c.reason);return n().catch(a)})},Xe=()=>A(()=>import("./LoginView-B6iSgyMs.js"),__vite__mapDeps([0,1])),et=()=>A(()=>import("./DashboardView-Cz2rA8UL.js"),__vite__mapDeps([2,1,3,4,5])),tt=()=>A(()=>import("./AdminDashboardView-DhU79ZNM.js"),__vite__mapDeps([6,1])),nt=()=>A(()=>import("./AdminView-IvLYqeMo.js"),__vite__mapDeps([7,1])),st=()=>A(()=>import("./StationView-DMw62DCg.js"),__vite__mapDeps([8,9,3,1,10,4])),ot=()=>A(()=>import("./PlatformView-DQgg0WSn.js"),__vite__mapDeps([11,1,9,3,12,10])),rt=()=>A(()=>import("./InstrumentView-CbJ_pi-p.js"),__vite__mapDeps([13,1,12,3,9,14])),at=()=>A(()=>import("./NotFoundView-BviwnR3Z.js"),__vite__mapDeps([15,1])),it=[{path:"/login",name:"login",component:Xe,meta:{requiresAuth:!1,title:"Login"}},{path:"/",name:"dashboard",component:et,meta:{requiresAuth:!0,title:"Dashboard"}},{path:"/admin",name:"admin",component:tt,meta:{requiresAuth:!0,requiresAdmin:!0,title:"Admin Dashboard"}},{path:"/admin/settings",name:"admin-settings",component:nt,meta:{requiresAuth:!0,requiresAdmin:!0,title:"Admin Settings"}},{path:"/stations/:acronym",name:"station",component:st,props:!0,meta:{requiresAuth:!0,title:"Station"}},{path:"/platforms/:id",name:"platform",component:ot,props:e=>({id:Number(e.params.id)}),meta:{requiresAuth:!0,title:"Platform"}},{path:"/instruments/:id",name:"instrument",component:rt,props:e=>({id:Number(e.params.id)}),meta:{requiresAuth:!0,title:"Instrument"}},{path:"/:pathMatch(.*)*",name:"not-found",component:at,meta:{requiresAuth:!1,title:"Not Found"}}],K=ne({history:se(),routes:it,scrollBehavior(e,n,t){return t||{top:0}}});K.beforeEach(async(e,n,t)=>{const r=R();if(document.title=e.meta.title?`${e.meta.title} | SITES Spectral`:"SITES Spectral",e.meta.requiresAuth&&!r.isAuthenticated){r.setRedirectPath(e.fullPath),t({name:"login"});return}if(e.meta.requiresAdmin&&!r.isAdmin){t({name:"dashboard"});return}if(e.name==="login"&&r.isAuthenticated){t({name:"dashboard"});return}t()});const B=oe(Ke);B.use(re());B.use(K);B.config.errorHandler=(e,n,t)=>{console.error("Vue Error:",e),console.error("Component:",n),console.error("Info:",t)};B.mount("#app");export{O as A,J as _,Ae as a,Oe as b,P as c,ie as d,R as u};
