import{c as u,e as l,o as n,F as N,h as E,f as e,t as i,l as g,b as Y,k as f,G as Q,n as y,i as M,g as _,w as B,r as S,m as ie,p as ue,s as F,x as ce,a as de}from"./vendor-DjAAf7Gn.js";import{c as me,g as ve,u as pe,d as fe}from"./index-BNagCaWt.js";import{b as Z,c as be,f as ge,g as he,d as ye,a as xe}from"./InstrumentIcon.vue_vue_type_style_index_0_scoped_cbf9e092_lang-DMAKfwaO.js";import{_ as we,a as ke,b as Me}from"./SatellitePlatformDetails-C_2KNfOb.js";import{_ as X}from"./ConfirmModal-tYp1Yh-e.js";import{_ as Ce}from"./PlatformFormModal-K4Ma00UO.js";import{_ as _e}from"./InstrumentFormModal-HGdebV3t.js";const Ve={key:0,class:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm"},Se={class:"text-xs text-base-content/50 block truncate"},$e=["title"],Ie={key:1,class:"text-xs text-base-content/50 italic"},ze={__name:"InstrumentTypeDetails",props:{instrument:{type:Object,required:!0},showAllFields:{type:Boolean,default:!1}},setup(a){const v=a,x=u(()=>Z(v.instrument.instrument_type)),p=u(()=>{if(v.instrument.specifications&&typeof v.instrument.specifications=="object")return v.instrument.specifications;if(typeof v.instrument.specifications=="string")try{return JSON.parse(v.instrument.specifications)}catch{return{}}return v.instrument}),o=u(()=>{var k;if(!((k=x.value)!=null&&k.fields))return[];const s=x.value.fields,I=be(v.instrument.instrument_type);return(v.showAllFields?Object.keys(s):I).map(h=>{const d=s[h];if(!d)return null;const m=p.value[h]??v.instrument[h];return{key:h,label:d.label,value:m,config:d,hasValue:m!=null&&m!==""}}).filter(h=>h!==null)}),$=u(()=>o.value.filter(s=>s.hasValue)),b=u(()=>$.value.length>0);return(s,I)=>b.value?(n(),l("div",Ve,[(n(!0),l(N,null,E($.value,w=>(n(),l("div",{key:w.key,class:"min-w-0"},[e("span",Se,i(w.label),1),e("span",{class:"font-medium block truncate",title:String(w.value)},i(g(ge)(w.value,w.config)),9,$e)]))),128))])):(n(),l("div",Ie," No specifications recorded "))}},Pe={class:"flex items-start justify-between gap-2"},De={class:"flex items-center gap-2 min-w-0 flex-1"},Ae=["title"],je=["d"],Be={class:"min-w-0 flex-1"},He={class:"text-xs text-base-content/50 font-mono truncate block"},Te={class:"flex items-center flex-wrap gap-2 mt-2 text-xs"},Re={key:0,class:"opacity-70 ml-1 hidden sm:inline"},Le={class:"truncate"},Fe={key:0,class:"text-accent whitespace-nowrap"},Ne={key:0,class:"mt-3 pt-2 border-t border-base-200"},Ee={key:1,class:"mt-2"},Oe={key:2,class:"flex justify-end gap-1 mt-2 pt-2 border-t border-base-200"},Ue={key:3,class:"flex justify-end mt-2 pt-2 border-t border-base-200"},qe={__name:"InstrumentCard",props:{instrument:{type:Object,required:!0},canEdit:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},showPlatform:{type:Boolean,default:!1},showAllSpecs:{type:Boolean,default:!1}},emits:["edit","delete","view"],setup(a,{emit:v}){const x=a,p=v,o=u(()=>Z(x.instrument.instrument_type)),$=u(()=>he(x.instrument.status)),b=u(()=>ye(x.instrument.measurement_status)),s=u(()=>{var d;return x.instrument.roi_count||((d=x.instrument.rois)==null?void 0:d.length)||0});u(()=>{var d;return((d=o.value)==null?void 0:d.color)||"#6b7280"});const I=u(()=>o.value&&{phenocam:"bg-blue-500/10",multispectral:"bg-purple-500/10",par_sensor:"bg-amber-500/10",ndvi_sensor:"bg-green-500/10",pri_sensor:"bg-cyan-500/10",hyperspectral:"bg-pink-500/10",thermal:"bg-red-500/10",lidar:"bg-teal-500/10",radar:"bg-indigo-500/10"}[o.value.key]||"bg-gray-500/10"),w=u(()=>o.value&&{phenocam:"text-blue-500",multispectral:"text-purple-500",par_sensor:"text-amber-500",ndvi_sensor:"text-green-500",pri_sensor:"text-cyan-500",hyperspectral:"text-pink-500",thermal:"text-red-500",lidar:"text-teal-500",radar:"text-indigo-500"}[o.value.key]||"text-gray-500"),k={camera:["M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z","M12 13a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"],"layer-group":["M12 2L2 7l10 5 10-5-10-5z","M2 17l10 5 10-5","M2 12l10 5 10-5"],sun:["M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707","M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"],leaf:["M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10z","M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"],microscope:["M6 18h8","M3 22h18","M14 22a7 7 0 1 0 0-14h-1","M9 14h2","M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2z","M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3"],rainbow:["M22 17a10 10 0 0 0-20 0","M6 17a6 6 0 0 1 12 0","M10 17a2 2 0 0 1 4 0"],"temperature-high":["M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z"],"wave-square":["M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1","M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1","M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"],"satellite-dish":["M4.9 19.1C1 15.2 1 8.8 4.9 4.9","M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5","M11 13a1 1 0 1 0 2 0 1 1 0 0 0-2 0z","M19.1 4.9C23 8.8 23 15.1 19.1 19","M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5"],cube:["M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z","M3.27 6.96L12 12.01l8.73-5.05","M12 22.08V12"]},h=u(()=>{var m;const d=((m=o.value)==null?void 0:m.icon)||"cube";return k[d]||k.cube});return(d,m)=>{var H,j,T,V;const A=Y("router-link");return n(),l("div",{class:y(["card bg-base-100 shadow-sm border border-base-200 hover:border-primary/30 transition-colors",{"card-compact":a.compact}])},[e("div",{class:y(["card-body",a.compact?"p-2":"p-3"])},[e("div",Pe,[e("div",De,[e("div",{class:y(["flex-shrink-0 rounded flex items-center justify-center",I.value]),style:Q({width:a.compact?"28px":"32px",height:a.compact?"28px":"32px"}),title:((H=o.value)==null?void 0:H.name)||a.instrument.instrument_type},[(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:y([w.value]),style:Q({width:a.compact?"14px":"16px",height:a.compact?"14px":"16px"}),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(n(!0),l(N,null,E(h.value,(C,z)=>(n(),l("path",{key:z,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:C},null,8,je))),128))],6))],14,Ae),e("div",Be,[e("h5",{class:y(["font-medium truncate",a.compact?"text-xs":"text-sm"])},i(a.instrument.display_name),3),e("code",He,i(a.instrument.normalized_name),1)])]),e("span",{class:y(["badge",a.compact?"badge-xs":"badge-sm",$.value.badgeClass])},i(a.instrument.status),3)]),e("div",Te,[e("span",{class:y(["badge badge-xs sm:badge-sm whitespace-nowrap",((j=o.value)==null?void 0:j.badgeClass)||"badge-ghost"])},[M(i(((T=o.value)==null?void 0:T.name)||a.instrument.instrument_type)+" ",1),(V=o.value)!=null&&V.code?(n(),l("span",Re," ("+i(o.value.code)+") ",1)):f("",!0)],2),e("span",{class:y([b.value.textClass,"flex items-center gap-1 whitespace-nowrap"])},[e("span",{class:y(["w-1.5 h-1.5 rounded-full flex-shrink-0",b.value.dotClass])},null,2),e("span",Le,i(a.instrument.measurement_status||"Unknown"),1)],2),s.value>0?(n(),l("span",Fe,i(s.value)+" ROI"+i(s.value!==1?"s":""),1)):f("",!0)]),a.compact?f("",!0):(n(),l("div",Ne,[_(ze,{instrument:a.instrument,"show-all-fields":a.showAllSpecs},null,8,["instrument","show-all-fields"])])),a.showPlatform&&a.instrument.platform_name?(n(),l("div",Ee,[_(A,{to:`/platforms/${a.instrument.platform_id}`,class:"text-xs text-primary hover:underline"},{default:B(()=>[M(i(a.instrument.platform_name),1)]),_:1},8,["to"])])):f("",!0),a.canEdit?(n(),l("div",Oe,[_(A,{to:`/instruments/${a.instrument.id}`,class:"btn btn-ghost btn-xs"},{default:B(()=>[...m[2]||(m[2]=[M(" View ",-1)])]),_:1},8,["to"]),e("button",{onClick:m[0]||(m[0]=C=>p("edit",a.instrument)),class:"btn btn-ghost btn-xs text-primary"}," Edit "),e("button",{onClick:m[1]||(m[1]=C=>p("delete",a.instrument)),class:"btn btn-ghost btn-xs text-error"}," Delete ")])):a.compact?f("",!0):(n(),l("div",Ue,[_(A,{to:`/instruments/${a.instrument.id}`,class:"btn btn-ghost btn-xs text-primary"},{default:B(()=>[...m[3]||(m[3]=[M(" View Details ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])]))],2)],2)}}},Ge={key:0,class:"flex justify-center py-12"},Je={key:1,class:"alert alert-error"},We={key:2},Qe={class:"text-sm breadcrumbs mb-4"},Xe={class:"bg-base-100 rounded-lg shadow-lg p-6 mb-6"},Ye={class:"flex items-start justify-between"},Ze={class:"flex items-center gap-3"},Ke={class:"text-2xl font-bold"},et={class:"text-sm text-base-content/60 font-mono mt-1 block"},tt={key:0,class:"text-base-content/60 mt-2"},st={key:0,class:"flex gap-2"},nt={class:"mt-6 pt-4 border-t border-base-200"},at={class:"bg-base-100 rounded-lg shadow-lg p-6"},lt={class:"flex flex-col gap-4 mb-6"},ot={class:"flex items-center justify-between"},rt={class:"text-xl font-semibold"},it={class:"badge badge-lg ml-2"},ut={key:0,class:"flex flex-wrap gap-2"},ct=["onClick"],dt={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},mt=["d"],vt={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},pt={key:1,class:"text-center py-8"},ft={key:2,class:"flex justify-center py-8"},Ct={__name:"PlatformView",props:{id:{type:[Number,String],required:!0}},setup(a){const v=a,x=de(),p=me(),o=ve(),$=pe(),b=fe(),s=u(()=>p.currentPlatform),I=u(()=>s.value?xe(s.value.platform_type):null),w=u(()=>{var r;switch((r=s.value)==null?void 0:r.platform_type){case"uav":return Me;case"satellite":return ke;case"fixed":default:return we}}),k=u(()=>s.value?$.canEditStation(s.value.station_id):!1),h=u(()=>o.instrumentsByType),d=S("all"),m={all:{key:"all",name:"All",icon:"M4 6h16M4 12h16M4 18h16",bgClass:"bg-base-300",textClass:"text-base-content",borderClass:"border-base-content"},Phenocam:{key:"Phenocam",name:"Phenocams",icon:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9zM15 13a3 3 0 11-6 0 3 3 0 016 0z",bgClass:"bg-blue-500/10",textClass:"text-blue-500",borderClass:"border-blue-500"},"Multispectral Sensor":{key:"Multispectral Sensor",name:"Multispectral",icon:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",bgClass:"bg-purple-500/10",textClass:"text-purple-500",borderClass:"border-purple-500"},"PAR Sensor":{key:"PAR Sensor",name:"PAR Sensors",icon:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z",bgClass:"bg-amber-500/10",textClass:"text-amber-500",borderClass:"border-amber-500"},"NDVI Sensor":{key:"NDVI Sensor",name:"NDVI Sensors",icon:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z",bgClass:"bg-green-500/10",textClass:"text-green-500",borderClass:"border-green-500"},"PRI Sensor":{key:"PRI Sensor",name:"PRI Sensors",icon:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z",bgClass:"bg-cyan-500/10",textClass:"text-cyan-500",borderClass:"border-cyan-500"},Hyperspectral:{key:"Hyperspectral",name:"Hyperspectral",icon:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01",bgClass:"bg-pink-500/10",textClass:"text-pink-500",borderClass:"border-pink-500"},Thermal:{key:"Thermal",name:"Thermal",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",bgClass:"bg-red-500/10",textClass:"text-red-500",borderClass:"border-red-500"},LiDAR:{key:"LiDAR",name:"LiDAR",icon:"M13 10V3L4 14h7v7l9-11h-7z",bgClass:"bg-teal-500/10",textClass:"text-teal-500",borderClass:"border-teal-500"},"Radar (SAR)":{key:"Radar (SAR)",name:"Radar/SAR",icon:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0",bgClass:"bg-indigo-500/10",textClass:"text-indigo-500",borderClass:"border-indigo-500"}},A=u(()=>{const r=[m.all];for(const[t,L]of Object.entries(h.value))L.length>0&&m[t]&&r.push(m[t]);return r});function H(r){var t;return r==="all"?o.instrumentCount:((t=h.value[r])==null?void 0:t.length)||0}const j=u(()=>d.value==="all"?Object.values(h.value).flat():h.value[d.value]||[]),T=u(()=>p.loading||o.loading),V=S(!1),C=S(!1),z=S(!1),R=S(!1),P=S(null),D=S(null);async function O(){const r=parseInt(v.id);await p.fetchPlatform(r)&&await o.fetchInstrumentsByPlatform(r)}ie(O),ue(()=>v.id,O);function K(){V.value=!0}function ee(){z.value=!0}async function te(r){await p.updatePlatform(s.value.id,r)?(b.success("Platform updated successfully"),V.value=!1):b.error(p.error||"Failed to update platform")}async function se(){const r=s.value.station_acronym;await p.deletePlatform(s.value.id)?(b.success("Platform deleted successfully"),z.value=!1,x.push({name:"station",params:{acronym:r}})):b.error(p.error||"Failed to delete platform")}function U(){P.value=null,C.value=!0}function ne(r){P.value=r,C.value=!0}function ae(r){D.value=r,R.value=!0}async function le(r){let t;P.value?(t=await o.updateInstrument(P.value.id,r),t&&b.success("Instrument updated successfully")):(t=await o.createInstrument(r),t&&b.success("Instrument created successfully")),t?(C.value=!1,P.value=null):b.error(o.error||"Failed to save instrument")}async function oe(){if(!D.value)return;await o.deleteInstrument(D.value.id)?(b.success("Instrument deleted successfully"),R.value=!1,D.value=null):b.error(o.error||"Failed to delete instrument")}const re=u(()=>{var t;return{fixed:"badge-info",uav:"badge-warning",satellite:"badge-accent"}[(t=s.value)==null?void 0:t.platform_type]||"badge-info"});return(r,t)=>{var q,G,J,W;const L=Y("router-link");return n(),l("div",null,[T.value&&!s.value?(n(),l("div",Ge,[...t[4]||(t[4]=[e("span",{class:"loading loading-spinner loading-lg"},null,-1)])])):g(p).error?(n(),l("div",Je,[t[5]||(t[5]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,i(g(p).error),1)])):s.value?(n(),l("div",We,[e("div",Qe,[e("ul",null,[e("li",null,[_(L,{to:"/dashboard"},{default:B(()=>[...t[6]||(t[6]=[M("Dashboard",-1)])]),_:1})]),e("li",null,[_(L,{to:`/stations/${s.value.station_acronym}`},{default:B(()=>[M(i(s.value.station_acronym),1)]),_:1},8,["to"])]),e("li",null,i(s.value.normalized_name),1)])]),e("div",Xe,[e("div",Ye,[e("div",null,[e("div",Ze,[e("h1",Ke,i(s.value.display_name||s.value.normalized_name),1),e("span",{class:y(["badge badge-lg",re.value])},i(((q=I.value)==null?void 0:q.name)||s.value.platform_type),3),e("span",{class:y([s.value.status==="Active"?"badge-success":"badge-warning","badge"])},i(s.value.status),3)]),e("code",et,i(s.value.normalized_name),1),s.value.description?(n(),l("p",tt,i(s.value.description),1)):f("",!0)]),k.value?(n(),l("div",st,[e("button",{class:"btn btn-outline btn-sm",onClick:K},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),M(" Edit ",-1)])]),e("button",{class:"btn btn-outline btn-error btn-sm",onClick:ee},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),M(" Delete ",-1)])])])):f("",!0)]),e("div",nt,[(n(),F(ce(w.value),{platform:s.value},null,8,["platform"]))])]),e("div",at,[e("div",lt,[e("div",ot,[e("h2",rt,[t[9]||(t[9]=M(" Instruments ",-1)),e("span",it,i(g(o).instrumentCount),1)]),k.value?(n(),l("button",{key:0,class:"btn btn-primary btn-sm",onClick:U},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),M(" Add Instrument ",-1)])])):f("",!0)]),g(o).instrumentCount>0?(n(),l("div",ut,[(n(!0),l(N,null,E(A.value,c=>(n(),l("button",{key:c.key,class:y(["btn btn-sm gap-2 transition-all",[d.value===c.key?`${c.bgClass} ${c.textClass} border-2 ${c.borderClass}`:"btn-ghost border border-base-300"]]),onClick:bt=>d.value=c.key},[(n(),l("svg",dt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:c.icon},null,8,mt)])),e("span",null,i(c.name),1),e("span",{class:y(["badge badge-sm",d.value===c.key?"badge-neutral":"badge-ghost"])},i(H(c.key)),3)],10,ct))),128))])):f("",!0)]),j.value.length>0?(n(),l("div",vt,[(n(!0),l(N,null,E(j.value,c=>(n(),F(qe,{key:c.id,instrument:c,"can-edit":k.value,onEdit:ne,onDelete:ae},null,8,["instrument","can-edit"]))),128))])):g(o).loading?f("",!0):(n(),l("div",pt,[t[11]||(t[11]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-base-content/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})],-1)),t[12]||(t[12]=e("p",{class:"mt-4 text-base-content/60"},"No instruments found",-1)),k.value?(n(),l("button",{key:0,class:"btn btn-primary mt-4",onClick:U}," Add First Instrument ")):f("",!0)])),g(o).loading?(n(),l("div",ft,[...t[13]||(t[13]=[e("span",{class:"loading loading-spinner loading-md"},null,-1)])])):f("",!0)])])):f("",!0),s.value?(n(),F(g(Ce),{key:3,modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=c=>V.value=c),platform:s.value,"station-id":s.value.station_id,"station-acronym":s.value.station_acronym,onSubmit:te},null,8,["modelValue","platform","station-id","station-acronym"])):f("",!0),_(g(X),{modelValue:z.value,"onUpdate:modelValue":t[1]||(t[1]=c=>z.value=c),title:"Delete Platform",message:`Are you sure you want to delete '${(G=s.value)==null?void 0:G.normalized_name}'? This will also delete all ${g(o).instrumentCount} instrument(s). This action cannot be undone.`,"confirm-text":"Delete Platform",variant:"error",loading:g(p).loading,onConfirm:se},null,8,["modelValue","message","loading"]),s.value?(n(),F(g(_e),{key:4,modelValue:C.value,"onUpdate:modelValue":t[2]||(t[2]=c=>C.value=c),instrument:P.value,"platform-id":s.value.id,"platform-name":s.value.normalized_name,"platform-type":s.value.platform_type,onSubmit:le},null,8,["modelValue","instrument","platform-id","platform-name","platform-type"])):f("",!0),_(g(X),{modelValue:R.value,"onUpdate:modelValue":t[3]||(t[3]=c=>R.value=c),title:"Delete Instrument",message:`Are you sure you want to delete '${((J=D.value)==null?void 0:J.normalized_name)||((W=D.value)==null?void 0:W.display_name)}'? This action cannot be undone.`,"confirm-text":"Delete",variant:"error",loading:g(o).loading,onConfirm:oe},null,8,["modelValue","message","loading"])])}}};export{Ct as default};
