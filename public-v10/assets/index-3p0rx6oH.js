const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginView-CoEqF7NS.js","assets/vendor-oiqY8oHn.js","assets/DashboardView-D6gQkGOL.js","assets/BaseModal-BSvtwcmN.js","assets/ExportModal-w2r9-8cU.js","assets/DashboardView-9lEwX2Zo.css","assets/AdminDashboardView-DysGAPWk.js","assets/AdminView-CIV_cuZC.js","assets/StationView-0T6oxC0K.js","assets/platforms-CbTA9KXc.js","assets/SatellitePlatformDetails-BhdYBZgt.js","assets/PlatformView-BuRJ0Dhu.js","assets/instruments-CmG5Vv-E.js","assets/InstrumentView-ClwR-2yA.js","assets/InstrumentView-C-nXLWy3.css","assets/NotFoundView-BviwnR3Z.js"])))=>i.map(i=>d[i]);
import{d as G,r as S,c as g,u as H,a as Q,b as q,e as v,o as p,f as s,g as b,w as y,h as E,F as U,i as Z,t as k,j as O,k as M,l as _,n as $,m as X,T as ee,p as j,q as te,s as ne,v as se,x as oe,y as re,z as ae}from"./vendor-oiqY8oHn.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=t(l);fetch(l.href,a)}})();const T="/api/v10";function ie(){return localStorage.getItem("auth_token")}function I(){const e=new Headers({"Content-Type":"application/json"}),n=ie();return n&&e.set("Authorization",`Bearer ${n}`),e}async function R(e){const n=await e.json();if(!e.ok)throw e.status===401?(localStorage.removeItem("auth_token"),window.location.href="/login",new Error("Session expired. Please login again.")):new Error(n.error||n.message||`HTTP error ${e.status}`);return n}const C={async get(e,n={}){const t=new URL(`${T}${e}`,window.location.origin);Object.entries(n).forEach(([l,a])=>{a!=null&&t.searchParams.set(l,a)});const o=await fetch(t.toString(),{method:"GET",headers:I()});return R(o)},async post(e,n={}){const t=await fetch(`${T}${e}`,{method:"POST",headers:I(),body:JSON.stringify(n)});return R(t)},async put(e,n={}){const t=await fetch(`${T}${e}`,{method:"PUT",headers:I(),body:JSON.stringify(n)});return R(t)},async delete(e,n={}){const t=new URL(`${T}${e}`,window.location.origin);Object.entries(n).forEach(([l,a])=>{a!=null&&t.searchParams.set(l,a)});const o=await fetch(t.toString(),{method:"DELETE",headers:I()});return R(o)}},le=["admin","spectral-admin","sites-admin","sites-spectral-admin"],D=["admin","spectral-admin","sites-admin","sites-spectral-admin"],B=G("auth",()=>{const e=S(null),n=S(localStorage.getItem("auth_token")),t=S("/"),o=g(()=>e.value?!!(le.includes(e.value.role)||D.includes(e.value.username)):!1),l=g(()=>{if(!e.value)return!1;if(e.value.role==="station-admin")return!0;const m=e.value.username||"";return m.endsWith("-admin")&&!D.includes(m)}),a=g(()=>!e.value||o.value||l.value?!1:e.value.role==="station"||!!e.value.station_id),d=g(()=>!!n.value&&!!e.value),c=g(()=>{var m;return o.value?"admin":l.value?"station-admin":a.value?"station":((m=e.value)==null?void 0:m.role)||"readonly"}),r=g(()=>{var m;return((m=e.value)==null?void 0:m.station_id)||null}),h=g(()=>{var x;if(!((x=e.value)!=null&&x.username))return null;const m=e.value.username;return m.endsWith("-admin")&&!D.includes(m)?m.replace(/-admin$/,""):a.value&&!m.includes("-")?m:null});function i(m){if(o.value)return!0;if(l.value){const x=h.value;return typeof m=="string"?m.toLowerCase()===(x==null?void 0:x.toLowerCase()):r.value===m}return!!(a.value&&r.value===m)}async function u(m,x){try{const V=await C.post("/auth/login",{username:m,password:x});return V.success?(n.value=V.token,e.value=V.user,localStorage.setItem("auth_token",V.token),!0):!1}catch(V){return console.error("Login error:",V),!1}}function f(){n.value=null,e.value=null,localStorage.removeItem("auth_token")}async function w(){if(!n.value)return!1;try{const m=await C.get("/auth/me");return m.success?(e.value=m.user,!0):(f(),!1)}catch{return f(),!1}}function L(m){t.value=m}function P(){const m=t.value;return t.value="/",m}return{user:e,token:n,redirectPath:t,isAuthenticated:d,isAdmin:o,isStationAdmin:l,isStationUser:a,userRole:c,userStation:r,userStationFromUsername:h,canEditStation:i,login:u,logout:f,initialize:w,setRedirectPath:L,getRedirectPath:P}}),J=G("stations",()=>{const e=S([]),n=S(null),t=S(!1),o=S(null),l=g(()=>e.value.length),a=g(()=>e.value.filter(u=>u.status==="Active")),d=g(()=>u=>e.value.find(f=>f.acronym===u));async function c(){t.value=!0,o.value=null;try{const u=await C.get("/stations");u.data?e.value=u.data||[]:u.success?e.value=u.data||[]:o.value=u.error||"Failed to fetch stations"}catch(u){o.value=u.message}finally{t.value=!1}}async function r(u){t.value=!0,o.value=null;try{const f=await C.get(`/stations/${u}`),w=f.data||(f.success?f.data:null);return w?(n.value=w,w):(o.value=f.error||"Station not found",null)}catch(f){return o.value=f.message,null}finally{t.value=!1}}async function h(u,f){t.value=!0,o.value=null;try{const w=await C.put(`/stations/${u}`,f),L=w.data||(w.success?w.data:null);if(L){n.value=L;const P=e.value.findIndex(m=>m.id===u);return P!==-1&&(e.value[P]=L),L}else return o.value=w.error||"Failed to update station",null}catch(w){return o.value=w.message,null}finally{t.value=!1}}function i(){n.value=null}return{stations:e,currentStation:n,loading:t,error:o,stationCount:l,activeStations:a,getStationByAcronym:d,fetchStations:c,fetchStation:r,updateStation:h,clearCurrentStation:i}}),ue={class:"navbar bg-base-100 shadow-lg sticky top-0 z-50"},ce={class:"navbar-start"},de={class:"navbar-center hidden lg:flex"},me={class:"breadcrumbs text-sm"},he={class:"navbar-end"},fe={key:0,class:"dropdown dropdown-end mr-2"},pe={tabindex:"0",class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-base-100 rounded-box w-52"},ve={class:"dropdown dropdown-end"},ge={tabindex:"0",role:"button",class:"btn btn-ghost gap-2"},we={class:"avatar placeholder"},_e={class:"bg-neutral text-neutral-content rounded-full w-8"},be={class:"text-xs"},ye={class:"hidden sm:inline"},ke={tabindex:"0",class:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-base-100 rounded-box w-52"},xe={key:0},Se={key:1},Ae={__name:"TheNavbar",setup(e){const n=H(),t=Q(),o=B(),l=J(),a=g(()=>{const h=[{name:"Home",path:"/"}];return n.params.acronym&&h.push({name:n.params.acronym,path:`/stations/${n.params.acronym}`}),h}),d=g(()=>{var i,u;const h=(i=o.user)==null?void 0:i.station_normalized_name;if(h&&!o.isAdmin){const f=l.stations.find(w=>w.normalized_name===h);if(f!=null&&f.display_name)return f.display_name}return((u=o.user)==null?void 0:u.username)||"User"}),c=g(()=>{const h=o.userRole;return{admin:"badge-primary",station:"badge-secondary",readonly:"badge-ghost"}[h]||"badge-ghost"});async function r(){o.logout(),t.push("/login")}return(h,i)=>{const u=q("router-link");return p(),v("nav",ue,[s("div",ce,[b(u,{to:"/",class:"btn btn-ghost normal-case text-xl"},{default:y(()=>[...i[0]||(i[0]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})],-1),E(" SITES Spectral ",-1)])]),_:1})]),s("div",de,[s("div",me,[s("ul",null,[(p(!0),v(U,null,Z(a.value,f=>(p(),v("li",{key:f.path},[b(u,{to:f.path,class:"hover:text-primary"},{default:y(()=>[E(k(f.name),1)]),_:2},1032,["to"])]))),128))])])]),s("div",he,[i[8]||(i[8]=O('<label class="swap swap-rotate btn btn-ghost btn-circle mr-2"><input type="checkbox" class="theme-controller" value="dark"><svg class="swap-on fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"></path></svg><svg class="swap-off fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"></path></svg></label>',1)),_(o).isAdmin?(p(),v("div",fe,[s("div",{tabindex:"0",role:"button",class:$(["btn btn-ghost btn-sm",{"btn-active":_(n).path.startsWith("/admin")}])},[...i[1]||(i[1]=[O('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg><span class="hidden md:inline">Admin</span><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>',3)])],2),s("ul",pe,[s("li",null,[b(u,{to:"/admin",class:$({active:_(n).path==="/admin"})},{default:y(()=>[...i[2]||(i[2]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),E(" Dashboard ",-1)])]),_:1},8,["class"])]),s("li",null,[b(u,{to:"/admin/settings",class:$({active:_(n).path==="/admin/settings"})},{default:y(()=>[...i[3]||(i[3]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),E(" Users & Settings ",-1)])]),_:1},8,["class"])])])])):M("",!0),s("div",ve,[s("div",ge,[s("div",we,[s("div",_e,[s("span",be,k(d.value.charAt(0).toUpperCase()),1)])]),s("span",ye,k(d.value),1),s("span",{class:$(["badge badge-sm",c.value])},k(_(o).userRole),3)]),s("ul",ke,[_(o).isAdmin?(p(),v("li",xe,[b(u,{to:"/admin"},{default:y(()=>[...i[4]||(i[4]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),E(" Admin Dashboard ",-1)])]),_:1})])):M("",!0),_(o).isAdmin?(p(),v("li",Se,[b(u,{to:"/admin/settings"},{default:y(()=>[...i[5]||(i[5]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),E(" Users & Settings ",-1)])]),_:1})])):M("",!0),i[6]||(i[6]=s("li",null,[s("a",{class:"justify-between"},[E(" Profile "),s("span",{class:"badge badge-sm badge-outline"},"Coming soon")])],-1)),i[7]||(i[7]=s("li",{class:"divider"},null,-1)),s("li",null,[s("button",{onClick:r,class:"text-error"}," Logout ")])])])])])}}},Ee={class:"w-64 bg-base-100 min-h-screen border-r border-base-200 fixed left-0 top-16 overflow-y-auto"},$e={class:"p-4"},Me={class:"flex items-center justify-between mb-4"},Le={class:"badge badge-primary badge-sm"},Ve={key:0,class:"flex justify-center py-8"},ze={key:1,class:"alert alert-error text-sm"},Ce={key:2,class:"menu menu-sm bg-base-100 rounded-lg gap-1"},Pe={class:"flex-1 min-w-0"},Te={class:"font-medium"},Ie={class:"text-xs opacity-70 truncate"},Re={key:0,class:"badge badge-ghost badge-xs"},Be={key:3,class:"mt-6 pt-4 border-t border-base-200"},Ne={__name:"TheSidebar",setup(e){const n=H(),t=J(),o=B();X(async()=>{t.stations.length===0&&await t.fetchStations()});const l=g(()=>n.params.acronym),a=g(()=>{var h;const c=t.activeStations;if(o.isAdmin)return c;const r=(h=o.user)==null?void 0:h.station_normalized_name;return r?c.filter(i=>{var u;return i.normalized_name===r||((u=i.acronym)==null?void 0:u.toLowerCase())===r.toLowerCase()}):c});function d(c){return l.value===c}return(c,r)=>{const h=q("router-link");return p(),v("aside",Ee,[s("div",$e,[s("div",Me,[r[0]||(r[0]=s("h2",{class:"text-lg font-semibold"},"Stations",-1)),s("span",Le,k(a.value.length),1)]),_(t).loading?(p(),v("div",Ve,[...r[1]||(r[1]=[s("span",{class:"loading loading-spinner loading-md"},null,-1)])])):_(t).error?(p(),v("div",ze,[s("span",null,k(_(t).error),1)])):(p(),v("ul",Ce,[(p(!0),v(U,null,Z(a.value,i=>(p(),v("li",{key:i.acronym},[b(h,{to:`/stations/${i.acronym}`,class:$([{active:d(i.acronym),"bg-primary text-primary-content":d(i.acronym)},"flex items-center gap-2 py-2"])},{default:y(()=>[r[2]||(r[2]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),s("div",Pe,[s("div",Te,k(i.acronym),1),s("div",Ie,k(i.display_name),1)]),i.platform_count?(p(),v("span",Re,k(i.platform_count),1)):M("",!0)]),_:2},1032,["to","class"])]))),128))])),_(o).isAdmin?(p(),v("div",Be,[...r[3]||(r[3]=[O('<h3 class="text-sm font-medium text-base-content/70 mb-2">Admin</h3><ul class="menu menu-sm"><li><a href="#" class="text-base-content/70"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg> Settings </a></li><li><a href="#" class="text-base-content/70"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> Users </a></li></ul>',2)])])):M("",!0)])])}}},z=S([]);let je=0;const F={success:"alert-success",error:"alert-error",warning:"alert-warning",info:"alert-info"};function De(){function e(c,r="info",h=5e3){const i=++je;return z.value.push({id:i,message:c,type:r,style:F[r]||F.info}),h>0&&setTimeout(()=>{a(i)},h),i}function n(c,r=5e3){return e(c,"success",r)}function t(c,r=8e3){return e(c,"error",r)}function o(c,r=6e3){return e(c,"warning",r)}function l(c,r=5e3){return e(c,"info",r)}function a(c){const r=z.value.findIndex(h=>h.id===c);r!==-1&&z.value.splice(r,1)}function d(){z.value=[]}return{notifications:z,notify:e,success:n,error:t,warning:o,info:l,remove:a,clearAll:d}}const K=(e,n)=>{const t=e.__vccOpts||e;for(const[o,l]of n)t[o]=l;return t},Oe={class:"toast toast-top toast-end z-50"},He={xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},qe=["d"],Ue=["onClick"],Ze={__name:"NotificationToast",setup(e){const{notifications:n,remove:t}=De();function o(l){const a={success:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",error:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",warning:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",info:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};return a[l]||a.info}return(l,a)=>(p(),v("div",Oe,[b(ee,{name:"notification"},{default:y(()=>[(p(!0),v(U,null,Z(_(n),d=>(p(),v("div",{key:d.id,class:$(["alert",d.style,"shadow-lg"])},[(p(),v("svg",He,[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o(d.type)},null,8,qe)])),s("span",null,k(d.message),1),s("button",{class:"btn btn-ghost btn-sm btn-circle",onClick:c=>_(t)(d.id),"aria-label":"Dismiss notification"},[...a[0]||(a[0]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ue)],2))),128))]),_:1})]))}},Fe=K(Ze,[["__scopeId","data-v-a42a999f"]]),We={class:"min-h-screen bg-base-200"},Ge={class:"flex"},Je={class:"max-w-6xl mx-auto"},Ke={__name:"App",setup(e){const n=H(),t=B(),o=g(()=>t.isAuthenticated&&n.name!=="login"),l=g(()=>n.name!=="login");return(a,d)=>{const c=q("router-view");return p(),v("div",We,[b(Fe),l.value?(p(),j(Ae,{key:0})):M("",!0),s("div",Ge,[o.value?(p(),j(Ne,{key:0})):M("",!0),s("main",{class:$(["flex-1 p-4 lg:p-6",{"ml-64":o.value}])},[s("div",Je,[b(c,null,{default:y(({Component:r})=>[b(te,{name:"fade",mode:"out-in"},{default:y(()=>[(p(),j(ne(r)))]),_:2},1024)]),_:1})])],2)])])}}},Ye=K(Ke,[["__scopeId","data-v-f4f3d395"]]),Qe="modulepreload",Xe=function(e){return"/"+e},W={},A=function(n,t,o){let l=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),c=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(t.map(r=>{if(r=Xe(r),r in W)return;W[r]=!0;const h=r.endsWith(".css"),i=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":Qe,h||(u.as="script"),u.crossOrigin="",u.href=r,c&&u.setAttribute("nonce",c),document.head.appendChild(u),h)return new Promise((f,w)=>{u.addEventListener("load",f),u.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${r}`)))})}))}function a(d){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=d,window.dispatchEvent(c),!c.defaultPrevented)throw d}return l.then(d=>{for(const c of d||[])c.status==="rejected"&&a(c.reason);return n().catch(a)})},et=()=>A(()=>import("./LoginView-CoEqF7NS.js"),__vite__mapDeps([0,1])),tt=()=>A(()=>import("./DashboardView-D6gQkGOL.js"),__vite__mapDeps([2,1,3,4,5])),nt=()=>A(()=>import("./AdminDashboardView-DysGAPWk.js"),__vite__mapDeps([6,1])),st=()=>A(()=>import("./AdminView-CIV_cuZC.js"),__vite__mapDeps([7,1])),ot=()=>A(()=>import("./StationView-0T6oxC0K.js"),__vite__mapDeps([8,9,3,1,10,4])),rt=()=>A(()=>import("./PlatformView-BuRJ0Dhu.js"),__vite__mapDeps([11,1,9,3,12,10])),at=()=>A(()=>import("./InstrumentView-ClwR-2yA.js"),__vite__mapDeps([13,1,12,3,9,14])),it=()=>A(()=>import("./NotFoundView-BviwnR3Z.js"),__vite__mapDeps([15,1])),lt=[{path:"/login",name:"login",component:et,meta:{requiresAuth:!1,title:"Login"}},{path:"/",name:"dashboard",component:tt,meta:{requiresAuth:!0,title:"Dashboard"}},{path:"/admin",name:"admin",component:nt,meta:{requiresAuth:!0,requiresAdmin:!0,title:"Admin Dashboard"}},{path:"/admin/settings",name:"admin-settings",component:st,meta:{requiresAuth:!0,requiresAdmin:!0,title:"Admin Settings"}},{path:"/stations/:acronym",name:"station",component:ot,props:!0,meta:{requiresAuth:!0,title:"Station"}},{path:"/platforms/:id",name:"platform",component:rt,props:e=>({id:Number(e.params.id)}),meta:{requiresAuth:!0,title:"Platform"}},{path:"/instruments/:id",name:"instrument",component:at,props:e=>({id:Number(e.params.id)}),meta:{requiresAuth:!0,title:"Instrument"}},{path:"/:pathMatch(.*)*",name:"not-found",component:it,meta:{requiresAuth:!1,title:"Not Found"}}],Y=se({history:oe(),routes:lt,scrollBehavior(e,n,t){return t||{top:0}}});Y.beforeEach(async(e,n,t)=>{const o=B();if(document.title=e.meta.title?`${e.meta.title} | SITES Spectral`:"SITES Spectral",e.meta.requiresAuth&&!o.isAuthenticated){o.setRedirectPath(e.fullPath),t({name:"login"});return}if(e.meta.requiresAdmin&&!o.isAdmin){t({name:"dashboard"});return}if(e.name==="login"&&o.isAuthenticated){t({name:"dashboard"});return}t()});const N=re(Ye);N.use(ae());N.use(Y);N.config.errorHandler=(e,n,t)=>{console.error("Vue Error:",e),console.error("Component:",n),console.error("Info:",t)};N.mount("#app");export{D as A,K as _,J as a,De as b,C as c,le as d,B as u};
